let navMain=document.querySelector(".main-nav"),navToggle=document.querySelector(".main-nav__toggle");navMain.classList.remove("main-nav--nojs"),navToggle.addEventListener("click",(function(){navMain.classList.contains("main-nav--closed")?(navMain.classList.remove("main-nav--closed"),navMain.classList.add("main-nav--opened")):(navMain.classList.add("main-nav--closed"),navMain.classList.remove("main-nav--opened"))}));const compareSlider=document.querySelector(".compare-slider"),beforeContainer=document.querySelector(".compare-slider__picture--before"),beforeImage=document.querySelector(".compare-slider__image--before"),sliderHandle=document.querySelector(".compare-slider__dragme"),body=document.body;if(compareSlider){let e=!1;document.addEventListener("DOMContentLoaded",(()=>{let e=compareSlider.offsetWidth;beforeImage.style.width=`${e}px`})),sliderHandle.addEventListener("mousedown",(()=>{e=!0})),body.addEventListener("mouseup",(()=>{e=!1})),body.addEventListener("mouseleave",(()=>{e=!1}));const n=e=>{let n=Math.max(0,Math.min(e,compareSlider.offsetWidth));beforeContainer.style.width=`${n}px`,sliderHandle.style.left=`${n}px`},t=e=>(e.stopPropagation(),e.preventDefault(),!1);body.addEventListener("mousemove",(o=>{if(!e)return;let a=o.pageX;a-=compareSlider.getBoundingClientRect().left,n(a),t(o)})),sliderHandle.addEventListener("touchstart",(()=>{e=!0})),body.addEventListener("touchend",(()=>{e=!1})),body.addEventListener("touchcancel",(()=>{e=!1})),body.addEventListener("touchmove",(o=>{if(!e)return;let a,i;for(i=0;i<o.changedTouches.length;i++)a=o.changedTouches[i].pageX;a-=compareSlider.getBoundingClientRect().left,n(a),t(o)}),{passive:!1})}const form=document.querySelector(".program-form"),inputs=document.querySelectorAll(".input__control"),inputControl=document.querySelector(".input__control"),inputEmail=document.querySelector(".input__control--email"),inputPhone=document.querySelector(".input__control--phone");if(form){function checkValidEmail(){inputEmail.value.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)?inputEmail.parentElement.classList.remove("input--error"):inputEmail.parentElement.classList.add("input--error")}function checkValidPhone(){inputPhone.value?inputPhone.parentElement.classList.remove("input--error"):inputPhone.parentElement.classList.add("input--error")}form.addEventListener("submit",(function(e){for(let n=0;n<inputs.length;n++)"age"!=inputs[n].id&&"commentaries"!=inputs[n].id&&(inputs[n].value?inputs[n].classList.remove("input__control--error"):(inputs[n].classList.add("input__control--error"),inputs[n].focus(),e.preventDefault()));checkValidEmail(),checkValidPhone()})),document.addEventListener("click",(function(e){for(let e=0;e<inputs.length;e++)inputs[e].value&&(inputs[e].classList.remove("input--error"),inputs[e].classList.remove("input__control--error"))}))}ymaps.ready((function(){if(document.body.clientWidth<768){var e=new ymaps.Map("map",{center:[59.938631,30.323037],zoom:13});e.behaviors.disable("scrollZoom");var n=new ymaps.Placemark([59.938631,30.323037],{hintContent:"Магазин Cat Energy"},{iconLayout:"default#image",iconImageHref:"/img/map-pin-mobile.png",iconImageSize:[57,53],iconImageOffset:[-30,-45]});e.geoObjects.add(n)}else if(document.body.clientWidth>=768&&document.body.clientWidth<1440){(e=new ymaps.Map("map",{center:[59.938631,30.323037],zoom:16})).behaviors.disable("scrollZoom");n=new ymaps.Placemark([59.938631,30.323037],{hintContent:"Магазин Cat Energy"},{iconLayout:"default#image",iconImageHref:"/img/map-pin-tablet.png",iconImageSize:[113,106],iconImageOffset:[-55,-105]});e.geoObjects.add(n)}else if(document.body.clientWidth>=1440){(e=new ymaps.Map("map",{center:[59.938491,30.321366],zoom:17})).behaviors.disable("scrollZoom");n=new ymaps.Placemark([59.938631,30.323037],{hintContent:"Магазин Cat Energy"},{iconLayout:"default#image",iconImageHref:"/img/map-pin-tablet.png",iconImageSize:[113,106],iconImageOffset:[-55,-105]});e.geoObjects.add(n)}}));